Datset Link
https://data.mendeley.com/datasets/wrvjmdtjd9/1

üìå Project Title
Causal Impact of Online Ads on User Click Behavior: A Study Using OLS and Instrumental Variables

üéØ Project Goals
Estimate the effect of ad characteristics on click-through rates (CTR)

Identify and address endogeneity in ad targeting

Apply instrumental variable techniques to uncover causal relationships

Compare traditional econometric methods with machine learning-based causal inference

üß± Dataset Overview
Source: Mendeley Data ‚Äì DOI: 10.17632/wrvjmdtjd9.1 Features:

User demographics: age, gender, income, location

Ad features: type, topic, placement

Behavior: clicks, conversions, timestamps

Context: device type, time of day, day of week

üß™ Step-by-Step Workflow
1. Exploratory Data Analysis (EDA)
Visualize CTR by ad type, user demographics, and time of day

Identify patterns and potential confounders

2. OLS Regression
Model: CTR ~ AdType + Topic + Placement + UserFeatures

Evaluate coefficients and goodness-of-fit

Discuss limitations due to potential endogeneity

3. Diagnosing Endogeneity
Hypothesize that ad targeting may be biased (e.g., high-income users get more engaging ads)

Use correlation analysis and residual plots to detect bias

4. Instrumental Variables (IV)
Identify potential instruments:

Time of day (ads shown randomly at different times)

Device type (ad format may vary by device but not user intent)

Apply IV regression: CTR ~ AdFeatures | Instruments

Compare IV estimates to OLS

5. Advanced Causal Methods (Optional)
Use Double Machine Learning (via EconML) or Causal Forests to estimate heterogeneous treatment effects

Compare predictive vs. causal performance

6. Validation and Interpretation
Cross-validate models

Interpret coefficients and causal effects

Discuss business implications (e.g., which ad types truly drive clicks?)

üìà Deliverables
Jupyter notebook or Python script with full analysis

Visualizations of CTR patterns and model results

Summary report or blog post explaining findings

GitHub repo with README and documentation

üíº Resume Highlights
Causal inference using OLS and IV

Real-world ad data analysis

Machine learning integration (optional)

Strong storytelling and business relevance

Would you like help writing the README or structuring the GitHub repo? Or want to dive deeper into how to implement IV regression in Python?

I found the author's profile from the college he is at so I guess I have to make some assumptions on the income and where he gathered this data from.
https://vupune.ac.in/our-people/dr-jagadish-v-tawade

The person that made the dataset.
https://nitirajkulkarni.in/
https://www.linkedin.com/in/nitirajkulkarni/?originalSubdomain=in

Seems like I should consider this data to be from here:
Pune, Maharashtra, India, is where Vishwakarma University is located in, concepted in 2017, and is where these two people are from who made this dataset.


Feature definition(copilot is a lil dumb tho)
Column Name	Description
Age	Age of the user viewing the ad
Gender	Gender of the user (e.g., Male/Female or binary)
Income	Income level of the user
Location	Geographic location of the user
Ad Type	Format of the ad (e.g., banner, video)
Ad Topic	Subject or category of the ad (e.g., tech, fashion)
Ad Placement	Where the ad was displayed on the page
Clicks	Number of times the user clicked the ad
Click Time	Timestamp of the click event
Conversion Rate	Whether the click led to a conversion (e.g., purchase)
CTR	Click-through rate, typically calculated as clicks divided by impressions


### Email back to professor:

Endogeneity concern

Click through rate and conversion rate are very similar. The only difference is that the conversion rate is the user performing a desired action like singing up for something I assume.
I know he said to generate the data to show that this fixes it so this may not suffice.

1. Endogeneity Concern
Research Question: Does CTR causally affect Conversion Rate, or are both driven by unobserved ad quality?
Problem: CTR might be endogenous ‚Äî better ads get more clicks and more conversions.
Solution: Use an instrumental variable (IV) for CTR ‚Äî maybe something like Click Time or Ad Placement, if you can argue they affect CTR but not Conversion Rate directly.

This question is more of a traditional approach but I worry it may be too simple and not much will be uncovered from it.
2. Generalized Least Squares (GLS)
Research Question: How do demographic and ad features influence Conversion Rate, accounting for heteroskedasticity across income levels or locations?
Problem: Variance in Conversion Rate might differ by income or location.
Solution: Use GLS to correct for non-constant error variance.

This one is kind of cool as well since it kind of combines all of the things for this.
"What is the causal effect of Ad Type on Conversion Rate, controlling for user demographics and ad context?"
This lets you:
Estimate treatment effects (Ad Type as treatment)
Explore endogeneity (CTR as a potentially endogenous mediator)
Use GLS if you detect heteroskedasticity (e.g., variance in Conversion Rate by Income)


### Poster Project Intent ###
It feels like the main idea for this poster project is for us to do some type of analysis, prediction, inference on a real dataset, and then using econometric techniques, we solve an underlying issue in the dataset.

So for me. I know that the conversion rate column is going to be a value from 0%-100%.

Alright. So I need to stop thinking of this from a perspective of a machine learning engineer.
This is for econometrics and I've just found the when putting my dataset through the hausman-wu test I have endogeneity
and or correlation.

So in order to remedy this, I should do some instrumental variables, or a 2SLS to fix this.
I don't think I have multicollinearity which is good because I used one-hot encoding for the initial endogenity analysis.
Alright. So for this project it may be a good endogeneity concern question where I try to find a good instrument variable,
or do both.

WOW. Really good break through here. So. Clicks is definitely endogenous. While it isn't my dependent variable that
I am trying to find predictions for or inference and causal interactions. Clicks is still endogenous and that will bias
my conversion rate variable. So any estimate on conversion rate is biased
Alright. And then if I just decided to drop clicks then I get omitted variable bias which would cause my error term to 
spike beacuse clicks is correlated to it, it would eat it's effects.

Alright. I honestly have a solvable econometric problem I think. If I can find an exogenous regressor to use as an IV
for the variable clicks then my model should be less biased.


### CHAT WITH PROFESSOR ###
2SLS machine learning route with feature engineering is a good route to through. We just gotta find an exogenous regressor.
Section 4.2 in the paper shown talks about forecast bias which is a solid thing to follow for my stuff.
LightWarnickYimPostSecVA_Latest

He told me about this dude named Raj Chetty who is a very famous econometric dude.

Abstract Guidelines:
Abstract Guidelines for Business & Economics, Education, Humanities, Sciences, Social Sciences, Technology, Engineering, & Mathematics
1. Clearly state the central research question and/or purpose of the project. 

2. Provide brief, relevant scholarly or research context (no actual citations required) that demonstrates its attempt to make a unique contribution to the area of inquiry.

3. Provide a brief description of the research methodology.

4. State conclusions or expected results and the context in which they will be discussed. 

5. Include text only (no images or graphics)

6. Be well-written and well-organized.

### Help understanding value-added estimates ###

So what i'm confused about is what is value-added stimation doing for me?
I get ML feature engineering and using the IV there for 2SLS, but how do I combine value-added estimation for help with forecast bias?

üß† What Is Value-Added Estimation Really Doing?
Value-added estimation tries to measure the incremental contribution of an agent (person, policy, ad, etc.) to an outcome, after controlling for everything else. It‚Äôs not just about estimating the effect of a variable‚Äîit‚Äôs about ranking or profiling agents based on their impact.

üîç In Your Study: Who Are the ‚ÄúAgents‚Äù?
In your ad click dataset, the agents could be:

Ad Types (e.g., Video, Banner, Native)
Ad Topics (e.g., Travel, Health, Fashion)
Ad Placements (e.g., Social Media, Search Engine)

You‚Äôre not just asking ‚ÄúDo clicks cause conversions?‚Äù‚Äîyou‚Äôre asking:
‚ÄúWhich ad types or placements consistently drive higher conversion rates, after accounting for user behavior and click endogeneity?‚Äù
That‚Äôs value-added.

üß™ How It Differs from 2SLS Alone
2SLS with ML-IVs gives you the causal effect of clicks on conversion rate. But it doesn‚Äôt tell you:

Which ad types are better
Which placements outperform others
Which combinations are consistently high-performing
Value-added estimation fills that gap. It lets you say:
‚ÄúVideo ads on social media have a high value-added‚Äîthey drive conversions even after controlling for user traits and click bias.‚Äù
‚ÄúText ads on websites have low value-added‚Äîthey underperform relative to expectations.‚Äù

üßÆ How to Integrate Value-Added Estimation
Here‚Äôs how you‚Äôd do it:

üîπ Step 1: Estimate the causal effect of clicks using 2SLS
Use ML to generate instruments for clicks
Run 2SLS to get unbiased estimates of how clicks affect conversion

üîπ Step 2: Residualize the outcome
Predict conversion rate using all controls and predicted clicks
Compute residuals: what‚Äôs left unexplained?

üîπ Step 3: Attribute residuals to agents
Group residuals by Ad Type, Topic, or Placement
Average them to get value-added scores
These scores reflect how much each agent contributes beyond what‚Äôs expected

üîπ Optional: Use fixed effects or hierarchical models
Include agent-level fixed effects in your model

Estimate their coefficients as value-added scores

üìä What You Get
Agent	Value-Added Score	Interpretation
Video Ads	+0.012	Boost conversions above baseline
Text Ads	‚Äì0.008	Underperform relative to expectations
Social Media	+0.015	High-performing placement
Search Engine	‚Äì0.003	Lower-than-expected conversions
These scores help you optimize ad strategy, allocate budget, and design better campaigns.

‚úÖ Summary
2SLS tells you: ‚ÄúClicks cause conversions.‚Äù

Value-added estimation tells you: ‚ÄúWhich ad formats or placements are best at driving conversions, even after adjusting for click bias and user traits.‚Äù
It‚Äôs the difference between estimating a treatment effect and profiling the best performers.
Want help writing the model code or visualizing the value-added scores?

Agents and combination of agents is possible. Start light and experiment.